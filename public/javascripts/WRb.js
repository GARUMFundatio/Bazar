var WRWarn="Copyright 2006-2008 ClickTale Ltd., US Patent Pending",WRA,WRD=document,WRAS=location,WRA4=false,WRA5,WRv,WRL,WRE=".clicktale.net/",WRAP="http://s.clicktale.net/",WRn,WRB=new Array(),WRw,ClickTaleCookieDomain,ClickTaleUnloadPause=500,ClickTaleEventsMask=255-128,ClickTaleFetchFrom,ClickTaleCookieExpiryDays=365,WRAf,WRAT,WRAU,WRAV,WRAW;var t=WRD.domain;if(t.search(/www\.\w+\.\w+/i)==0){ClickTaleCookieDomain=t.substring(4,t.length)}WRA6();if(WRA4){WRA7("note1: entering debug mode, ClickTale script is installed")}if(typeof WRInitTime=="undefined"){var WRInitTime=(new Date()).getTime();if(WRA4){WRA7("warning1: top ClickTale script is missing in the page")}}if(WRD.addEventListener){WRD.addEventListener("DOMContentLoaded",WRondomload,false)}WRn=WRp();if(WRn&&WRn.substr(0,2)=="IE"){WRD.write('<script id="ClickTaleDefer" defer="defer" src=//:><\/script>');WRD.getElementById("ClickTaleDefer").onreadystatechange=function(){if(this.readyState=="complete"){WRondomload()}}}WRw=(WRD.compatMode=="BackCompat");WRv=(WRw?WRD.body:WRD.documentElement);WRo(window,"load",WRf);function ClickTale(D,E,A){if(WRAf){throw"CT: Monitoring has already started"}if(ClickTaleIsPlayback()){return }if(E==undefined){E=1}if(WRA4){WRA7("note2: preparing to record (ver "+11.2+") for project id "+D);if(E==1){WRA7("note3: recording all visitors to this page")}else{WRA7("note3: recording approximately 1 of every "+Math.ceil(1/E)+" visitors to this page")}}if(!WRn){if(WRA4){WRA7("warning2: the current browser is not supported")}return }if(WRAS.protocol=="file:"){if(WRA4){WRA7("warning3: the current protocol is not supported")}return }if(WRl("WRIgnore")){if(WRA4){WRA7("warning6: the current machine/user is temporarily disabled for recording")}return }WRL=WRl("WRUID");var C=false;if(WRL==null){C=true;if(Math.random()<E){WRL=WRAg()}else{WRL=0}}WRk("WRUID",WRL,ClickTaleCookieExpiryDays);if(WRL==0||(WRl("WRUID")==null&&E!=1)){if(WRA4){WRA7("warning4: the current machine/user is disabled for recording")}return }if(!A){A="www"}WRE="http://"+A+WRE;if(typeof ClickTaleSSL!="undefined"){if((ClickTaleSSL==1&&WRAS.protocol=="https:")||ClickTaleSSL==2){WRAP=WRE=WRE.replace(/^http/,"https")}}WRAf=true;WRC({a:"start",t:WRI()});WRA=D;var B=new Image();B.src=WRE+"i/"+WRA+".gif?r="+E+"&UID="+WRL+(C?"&new":"")+"&"+WRH();B.onerror=function(){B.onload=null;B.onerror=null;WRA8()};B.onload=function(){B.onload=null;B.onerror=null;WRG(B)}}function ClickTaleIsPlayback(){try{return parent&&parent.WebPlayer}catch(A){}return false}function WRG(B){var C=WRD.createElement("script");C.src=WRAP+"WRb2"+(B.width>1?"S"+B.width:"")+"b.js";var A=WRD.getElementById("ClickTaleDiv");if(!A){A=WRD.getElementById("ClickTale")}if(A){A.appendChild(C);if(WRA4){WRA7("note4: preparing for stage 2")}}else{if(WRA4){WRA7("error1: no 'ClickTale' DIV element found in this page")}}}function WRA8(){if(WRA4){WRA7("error2: unable to record because either there are no credits for project or communication may be down")}WRk("WRIgnore",true,ClickTaleCookieExpiryDays?0.007:false)}function WRH(){return Math.floor(Math.random()*2147483647)}function WRAg(){return WRH()+"."+(WRInitTime&2147483647)}function WRI(){return(new Date()).getTime()-WRInitTime}function WRC(A){if(typeof WRc=="function"){WRc(A)}else{if(WRB.push){WRB.push(A)}}}function WRf(){WRC({a:"load",w:WRs(),h:WRt(),sw:WRv.scrollWidth,sh:WRv.scrollHeight,cw:WRv.clientWidth,ch:WRv.clientHeight,t:WRI()})}function WRs(){return self.innerWidth||WRv.offsetWidth}function WRt(){return self.innerHeight||WRv.offsetHeight}function WRk(C,D,E){if(E){var B=new Date();B.setTime(B.getTime()+(E*86400000));var A="; expires="+B.toGMTString()}else{var A=""}WRD.cookie=C+"="+D+A+"; path=/;"+(ClickTaleCookieDomain?" domain="+ClickTaleCookieDomain+";":"")}function WRl(B){var D=B+"=";var A=WRD.cookie.split(";");for(var C=0;C<A.length;C++){var E=A[C];while(E.charAt(0)==" "){E=E.substring(1,E.length)}if(E.indexOf(D)==0){return E.substring(D.length,E.length)}}return null}function ClickTaleGetSID(){return typeof WRSID=="number"?WRSID:null}function ClickTaleGetUID(){var A=WRl("WRUID");return A>0?A:null}function ClickTaleTag(A){WRC({a:"tag",c:A,t:WRI()})}function ClickTaleNote(A){WRC({a:"note",c:A,t:WRI()})}function ClickTaleField(B,A){WRC({a:"field",f:B,v:A,t:WRI()})}function ClickTaleExec(A){WRC({a:"exec",c:A,t:WRI()})}function ClickTaleIgnore(A){WRk("WRUID",0,A)}function ClickTaleUploadPage(A,B){if(WRAf){throw"CTUP: Monitoring has already started"}WRAT=true;WRAV=A;WRAW=B;if(WRAU&&typeof WRAh=="function"){WRAh()}}function WRondomload(){if(ClickTaleIsPlayback()||WRAU){return }var B=WRD.getElementById("ClickTaleDefer");if(B){B.parentNode.removeChild(B)}var A=new RegExp('(<div id="?ClickTaleDiv"?[^>]+>)\\s*<script[^>]+><\/script>\\s*(</div>)',"i");WRAU=WRD.documentElement.innerHTML.replace(A,"$1$2");WRC({a:"domload",t:WRI()});if(typeof WRAX=="function"){WRAX()}if(WRAT&&typeof WRAh=="function"){WRAh()}}function WRA6(){if(ClickTaleIsPlayback()){return }WRA9(WRAS.hash.substr(1));WRA9(WRAS.search.substr(1))}function WRA9(D){var C=D.split("&");for(var B=0;B<C.length;B++){var E=C[B].split("=");var A=decodeURIComponent(E[0]).toLowerCase();if(E.length==2&&(A=="ct"||A=="clicktale")){WRBA(decodeURIComponent(E[1]))}}}function WRBA(D){var C=D.split(",");for(var B=0;B<C.length;B++){switch(C[B].toLowerCase()){case"debug":WRD.write('<textarea id="ClickTaleDebugDump" rows="5" cols="80" style="position: absolute; left:10px; top:10px; border: solid #6C358D;"></textarea>');WRA5=WRD.getElementById("ClickTaleDebugDump");if(WRA5){WRA5.value=""}WRA4=true;break;case"enable":WRk("WRIgnore",null,-1);var A=WRl("WRUID");if(A==null||A==0){WRk("WRUID",WRAg(),ClickTaleCookieExpiryDays)}break;case"disable":WRk("WRUID",0,ClickTaleCookieExpiryDays);break;case"reset":WRk("WRUID",null,-1);break;default:if(/^t\(.+\)$/i.test(C[B])){ClickTaleTag(C[B].substring(2,C[B].length-1))}else{if(WRA4){WRA7("warning5: unknown parameter in URL: "+C[B])}}break}}}function WRA7(A){if(WRA5){WRA5.value+=(A+"\n")}else{alert("CT: "+A)}}function WRp(){var A=navigator.userAgent;if(A.indexOf("Opera ")!=-1){return }if(A.indexOf("MSIE 6.0")!=-1){return"IE6"}if(A.indexOf("MSIE 7.0")!=-1){return"IE7"}if(A.indexOf("Firefox/1.5")!=-1){return"FF15"}if(A.indexOf("Firefox/2.0")!=-1){return"FF20"}if(A.indexOf("Firefox/3.0")!=-1){return"FF30"}}function WRo(C,A,B){if(C.addEventListener){C.addEventListener(A,B,false)}else{if(C.attachEvent){C.attachEvent("on"+A,B)}}};